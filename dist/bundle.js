(()=>{"use strict";var e,t=["Легкий","Средний","Сложный"],n=[],a=[],i=0;new(function(){function d(e){this.container=e,this.levelDifficulty=localStorage.getItem("levelDifficulty"),this.levelDifficulty?this.renderScreenCardGame():this.renderScreenDifficultySelection()}return d.prototype.renderScreenDifficultySelection=function(){var e=this;this.container.replaceChildren();var n=document.createElement("div");n.classList.add("div-sds");var a=document.createElement("section");a.classList.add("screen-difficulty-selection");var i=document.createElement("h1");i.textContent="Выбери сложность",i.classList.add("main_title");var d=document.createElement("div");d.classList.add("main_difficulty-selection");var r=document.createElement("button");r.textContent="1",r.classList.add("main_btn-dif-sel");var c=document.createElement("button");c.textContent="2",c.classList.add("main_btn-dif-sel");var l=document.createElement("button");l.textContent="3",l.classList.add("main_btn-dif-sel");var s=document.createElement("button");s.textContent="Старт",s.classList.add("btn","main_btn-start");var o=0,m=0;d.addEventListener("click",(function(e){e.preventDefault();var t=e.target.textContent;"1"===t&&(r.classList.add("main_btn-dif-sel_active"),c.classList.remove("main_btn-dif-sel_active"),l.classList.remove("main_btn-dif-sel_active"),m+=1,o=1),"2"===t&&(r.classList.remove("main_btn-dif-sel_active"),c.classList.add("main_btn-dif-sel_active"),l.classList.remove("main_btn-dif-sel_active"),m+=1,o=2),"3"===t&&(r.classList.remove("main_btn-dif-sel_active"),c.classList.remove("main_btn-dif-sel_active"),l.classList.add("main_btn-dif-sel_active"),m+=1,o=3)})),s.addEventListener("click",(function(n){n.preventDefault();var a=t[o-1];"string"==typeof a&&m>0&&(e.levelDifficulty=a,localStorage.setItem("levelDifficulty",a),e.renderScreenCardGame())})),a.appendChild(i),a.appendChild(d),d.appendChild(r),d.appendChild(c),d.appendChild(l),a.appendChild(s),n.appendChild(a),this.container.appendChild(n)},d.prototype.renderScreenCardGame=function(){var e=this;this.container.replaceChildren();var t=document.createElement("section");t.classList.add("render-screen-card-game");var d=document.createElement("div");d.classList.add("top-block");var r=document.createElement("div");r.classList.add("block-time");var c=document.createElement("div");c.classList.add("min-sek");var l=document.createElement("p");l.classList.add("text-min-sek"),l.textContent="min";var s=document.createElement("p");s.classList.add("text-min-sek"),s.textContent="sek";var o=document.createElement("div");o.classList.add("timer"),o.textContent="00.00";var m=document.createElement("button");m.classList.add("btn","btn_restart"),m.textContent="Начать заново";var u=document.createElement("div");u.classList.add("card-table"),"Легкий"===this.levelDifficulty?i=3:"Средний"===this.levelDifficulty?i=6:"Сложный"===this.levelDifficulty&&(i=9),function(){var e=0;do{for(var t=0,a=Math.floor(36*Math.random())+1,d=0;d<n.length;d++)a===n[d]&&(t+=1);0===t&&(e+=1,n.push(a,a))}while(e<i);n.sort((function(){return Math.random()-.5}))}();for(var v=0;v<2*i;v++){var f=document.createElement("div");f.classList.add("img-box");var p=document.createElement("img");p.classList.add("card-shirt-down","img".concat([v])),p.src="./static/cards/card".concat(n[v],".png");var h=document.createElement("img");h.classList.add("card-shirt-up","card-shirt-up-hidden"),h.src="./static/shirt.png",h.dataset.indexNumber="".concat(v),a.push(v),f.appendChild(p),f.appendChild(h),u.appendChild(f)}m.addEventListener("click",(function(t){t.preventDefault(),confirm("Вы действительно хотите вернуться в выбор сложности?")&&(localStorage.removeItem("levelDifficulty"),e.levelDifficulty="",n=[],a=[],e.renderScreenDifficultySelection())})),t.appendChild(d),d.appendChild(r),r.appendChild(c),c.appendChild(l),c.appendChild(s),r.appendChild(o),d.appendChild(m),t.appendChild(u),this.container.appendChild(t),setTimeout((function(){e.getScreenStartGame()}),5e3)},d.prototype.getScreenStartGame=function(){var t=this,a=document.querySelectorAll(".card-shirt-down"),d=document.querySelectorAll(".card-shirt-up"),r=document.querySelector(".timer"),c=0,l=0;function s(){++c>=60&&(c=0,++l>=60&&console.log("Ошибка")),r&&(r.textContent=(l>9?l:"0"+l)+"."+(c>9?c:"0"+c),o())}function o(){e=setTimeout(s,1e3)}o(),a.forEach((function(e){e.classList.add("card-shirt-down-hidden")})),d.forEach((function(e){e.classList.remove("card-shirt-up-hidden")}));var m=37,u=37,v=0;d.forEach((function(a){a.addEventListener("click",(function(a){var d=a.target;d.classList.add("card-shirt-up-hidden");var r=d.dataset.indexNumber,c=document.querySelector(".img".concat(r));c&&c.classList.remove("card-shirt-down-hidden"),37===m?m=n[r]:u=n[r],m<37&&u<37&&(m===u?(v+=1)===i&&(clearTimeout(e),t.renderScreenWin()):(clearTimeout(e),t.renderScreenLose()),m=37,u=37)}))}))},d.prototype.renderScreenWin=function(){var e=this,t=document.querySelector(".timer");if(t){var i=t.textContent,d=document.createElement("section");d.classList.add("render-sreen-final__turbid");var r=document.createElement("div");r.classList.add("render-sreen-final");var c=document.createElement("img");c.classList.add("render-sreen-final__img"),c.src="./static/win.png";var l=document.createElement("h1");l.classList.add("render-sreen-final__title"),l.textContent="Вы выиграли!";var s=document.createElement("h2");s.classList.add("render-sreen-final__text"),s.textContent="Затраченное время:";var o=document.createElement("p");o.classList.add("time-game","render-sreen-final__time-game"),o.textContent=i;var m=document.createElement("button");m.classList.add("btn","btn_creen-lose"),m.textContent="Играть снова",m.addEventListener("click",(function(t){t.preventDefault(),confirm("Вы действительно хотите вернуться в выбор сложности?")&&(localStorage.removeItem("levelDifficulty"),e.levelDifficulty="",n=[],a=[],e.renderScreenDifficultySelection())})),r.appendChild(c),r.appendChild(l),r.appendChild(s),r.appendChild(o),r.appendChild(m),this.container.appendChild(d),this.container.appendChild(r)}},d.prototype.renderScreenLose=function(){var e=this,t=document.querySelector(".timer");if(t){var i=t.textContent,d=document.createElement("section");d.classList.add("render-sreen-final__turbid");var r=document.createElement("div");r.classList.add("render-sreen-final");var c=document.createElement("img");c.classList.add("render-sreen-final__img"),c.src="./static/lose.png";var l=document.createElement("h1");l.classList.add("render-sreen-final__title"),l.textContent="Вы проиграли!";var s=document.createElement("h2");s.classList.add("render-sreen-final__text"),s.textContent="Затраченное время:";var o=document.createElement("p");o.classList.add("time-game","render-sreen-final__time-game"),o.textContent=i;var m=document.createElement("button");m.classList.add("btn","btn_creen-lose"),m.textContent="Играть снова",m.addEventListener("click",(function(t){t.preventDefault(),confirm("Вы действительно хотите вернуться в выбор сложности?")&&(localStorage.removeItem("levelDifficulty"),e.levelDifficulty="",n=[],a=[],e.renderScreenDifficultySelection())})),r.appendChild(c),r.appendChild(l),r.appendChild(s),r.appendChild(o),r.appendChild(m),this.container.appendChild(d),this.container.appendChild(r)}},d}())(document.querySelector(".app"))})();