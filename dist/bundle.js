(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,n){for(var a=0;a<n.length;a++){var i=n[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(void 0,r=function(t,n){if("object"!==e(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var i=a.call(t,"string");if("object"!==e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(i.key),"symbol"===e(r)?r:String(r)),i)}var r}var n=["Легкий","Средний","Сложный"],a=[],i=[];new(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.levelDifficulty=localStorage.getItem("levelDifficulty"),this.levelDifficulty?this.renderScreenOpenCards():this.renderScreenDifficultySelection()}var r,c;return r=e,(c=[{key:"renderScreenDifficultySelection",value:function(){var e=this;this.container.classList.remove("app_render-screen"),this.container.replaceChildren();var t=document.createElement("div");t.classList.add("div-sds");var a=document.createElement("section");a.classList.add("screen-difficulty-selection");var i=document.createElement("h1");i.textContent="Выбери сложность",i.classList.add("main_title");var r=document.createElement("div");r.classList.add("main_difficulty-selection");var c=document.createElement("button");c.textContent="1",c.classList.add("main_btn-dif-sel");var d=document.createElement("button");d.textContent="2",d.classList.add("main_btn-dif-sel");var l=document.createElement("button");l.textContent="3",l.classList.add("main_btn-dif-sel");var o=document.createElement("button");o.textContent="Старт",o.classList.add("btn","main_btn-start"),r.addEventListener("click",(function(t){t.preventDefault();var a=t.target.textContent,i=n[a-1];e.levelDifficulty=i,localStorage.setItem("levelDifficulty",i),e.renderScreenOpenCards(),i||console.log("Упс, что-то пошло не так")})),a.appendChild(i),a.appendChild(r),r.appendChild(c),r.appendChild(d),r.appendChild(l),a.appendChild(o),t.appendChild(a),this.container.appendChild(t)}},{key:"renderScreenOpenCards",value:function(){var e=this;this.container.classList.add("app_render-screen"),this.container.replaceChildren();var t=document.createElement("section");t.classList.add("render-screen-card-game");var n=document.createElement("div");n.classList.add("top-block");var r=document.createElement("div");r.classList.add("block-time");var c=document.createElement("div");c.classList.add("min-sek");var d=document.createElement("p");d.classList.add("text-min-sek"),d.textContent="min";var l=document.createElement("p");l.classList.add("text-min-sek"),l.textContent="sek";var o=document.createElement("div");o.classList.add("timer"),o.textContent="00.00";var s=document.createElement("button");s.classList.add("btn","btn_restart"),s.textContent="Начать заново";var u=document.createElement("div");u.classList.add("card-table");var m=0;"Легкий"===this.levelDifficulty?m=3:"Средний"===this.levelDifficulty?m=6:"Сложный"===this.levelDifficulty&&(m=9),function(){var e=0;do{for(var t=0,n=Math.floor(36*Math.random())+1,i=0;i<a.length;i++)n===a[i]&&(t+=1);0===t&&(e+=1,a.push(n,n))}while(e<m);a.sort((function(){return Math.random()-.5}))}();for(var p=0;p<2*m;p++){var f=document.createElement("div");f.classList.add("img-box");var v=document.createElement("img");v.classList.add("card-shirt-down","img".concat([p])),v.src="./static/cards/card".concat(a[p],".png");var h=document.createElement("img");h.classList.add("card-shirt-up","card-shirt-up-hidden"),h.src="./static/shirt.png",h.dataset.indexNumber="".concat(p),i.push(p),f.appendChild(v),f.appendChild(h),u.appendChild(f)}s.addEventListener("click",(function(t){t.preventDefault(),confirm("Вы действительно хотите вернуться в выбор сложности?")&&(localStorage.removeItem("levelDifficulty"),e.levelDifficulty="",a=[],i=[],e.renderScreenDifficultySelection())})),t.appendChild(n),n.appendChild(r),r.appendChild(c),c.appendChild(d),c.appendChild(l),r.appendChild(o),n.appendChild(s),t.appendChild(u),this.container.appendChild(t),setTimeout((function(){e.getScreenStartGame()}),5e3)}},{key:"getScreenStartGame",value:function(){var e=document.querySelectorAll(".card-shirt-down"),t=document.querySelectorAll(".card-shirt-up");e.forEach((function(e){e.classList.add("card-shirt-down-hidden")})),t.forEach((function(e){e.classList.remove("card-shirt-up-hidden")}));var n=37,i=37;t.forEach((function(e){e.addEventListener("click",(function(e){var t=e.target;t.classList.add("card-shirt-up-hidden");var r=t.dataset.indexNumber;document.querySelector(".img".concat(r)).classList.remove("card-shirt-down-hidden"),37===n?(n=a[r],console.log("firstChoice",n)):(i=a[r],console.log("secondChoice",i)),n<37&&i<37&&(n===i?alert("Вы победили!"):alert("Вы проиграли!"),n=37,i=37)}))}))}}])&&t(r.prototype,c),Object.defineProperty(r,"prototype",{writable:!1}),e}())(document.querySelector(".app"))})();