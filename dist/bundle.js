(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,n){for(var a=0;a<n.length;a++){var r=n[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,i=function(t,n){if("object"!==e(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var r=a.call(t,"string");if("object"!==e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===e(i)?i:String(i)),r)}var i}var n=["Легкий","Средний","Сложный"],a=[],r=[];new(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.levelDifficulty=localStorage.getItem("levelDifficulty"),this.levelDifficulty?this.renderScreenCardGame():this.renderScreenDifficultySelection()}var i,c;return i=e,(c=[{key:"renderScreenDifficultySelection",value:function(){var e=this;this.container.classList.remove("app_render-screen"),this.container.replaceChildren();var t=document.createElement("div");t.classList.add("div-sds");var a=document.createElement("section");a.classList.add("screen-difficulty-selection");var r=document.createElement("h1");r.textContent="Выбери сложность",r.classList.add("main_title");var i=document.createElement("div");i.classList.add("main_difficulty-selection");var c=document.createElement("button");c.textContent="1",c.classList.add("main_btn-dif-sel");var d=document.createElement("button");d.textContent="2",d.classList.add("main_btn-dif-sel");var l=document.createElement("button");l.textContent="3",l.classList.add("main_btn-dif-sel");var o=document.createElement("button");o.textContent="Старт",o.classList.add("btn","main_btn-start"),i.addEventListener("click",(function(t){t.preventDefault();var a=t.target.textContent,r=n[a-1];e.levelDifficulty=r,localStorage.setItem("levelDifficulty",r),e.renderScreenCardGame(),r||console.log("Упс, что-то пошло не так")})),a.appendChild(r),a.appendChild(i),i.appendChild(c),i.appendChild(d),i.appendChild(l),a.appendChild(o),t.appendChild(a),this.container.appendChild(t)}},{key:"renderScreenCardGame",value:function(){var e=this;this.container.classList.add("app_render-screen"),this.container.replaceChildren();var t=document.createElement("section");t.classList.add("render-screen-card-game");var n=document.createElement("div");n.classList.add("top-block");var i=document.createElement("div");i.classList.add("block-time");var c=document.createElement("div");c.classList.add("min-sek");var d=document.createElement("p");d.classList.add("text-min-sek"),d.textContent="min";var l=document.createElement("p");l.classList.add("text-min-sek"),l.textContent="sek";var o=document.createElement("div");o.classList.add("timer"),o.textContent="00.00";var s=document.createElement("button");s.classList.add("btn","btn_restart"),s.textContent="Начать заново";var u=document.createElement("div");u.classList.add("card-table");var m=0;"Легкий"===this.levelDifficulty?m=3:"Средний"===this.levelDifficulty?m=6:"Сложный"===this.levelDifficulty&&(m=9),function(){var e=0;do{for(var t=0,n=Math.floor(36*Math.random())+1,r=0;r<a.length;r++)n===a[r]&&(t+=1);0===t&&(e+=1,a.push(n,n))}while(e<m);a.sort((function(){return Math.random()-.5}))}();for(var f=0;f<2*m;f++){var p=document.createElement("div");p.classList.add("img-box");var v=document.createElement("img");v.classList.add("card-shirt-down","img".concat([f])),v.src="./static/cards/card".concat(a[f],".png");var h=document.createElement("img");h.classList.add("card-shirt-up","card-shirt-up-hidden"),h.src="./static/shirt.png",h.dataset.indexNumber="".concat(f),r.push(f),p.appendChild(v),p.appendChild(h),u.appendChild(p)}s.addEventListener("click",(function(t){t.preventDefault(),confirm("Вы действительно хотите вернуться в выбор сложности?")&&(localStorage.removeItem("levelDifficulty"),e.levelDifficulty="",a=[],r=[],e.renderScreenDifficultySelection())})),t.appendChild(n),n.appendChild(i),i.appendChild(c),c.appendChild(d),c.appendChild(l),i.appendChild(o),n.appendChild(s),t.appendChild(u),this.container.appendChild(t),setTimeout((function(){e.getScreenStartGame()}),5e3)}},{key:"getScreenStartGame",value:function(){var e=this,t=document.querySelectorAll(".card-shirt-down"),n=document.querySelectorAll(".card-shirt-up");t.forEach((function(e){e.classList.add("card-shirt-down-hidden")})),n.forEach((function(e){e.classList.remove("card-shirt-up-hidden")}));var r=37,i=37;n.forEach((function(t){t.addEventListener("click",(function(t){var n=t.target;n.classList.add("card-shirt-up-hidden");var c=n.dataset.indexNumber;document.querySelector(".img".concat(c)).classList.remove("card-shirt-down-hidden"),37===r?(r=a[c],console.log("firstChoice",r)):(i=a[c],console.log("secondChoice",i)),r<37&&i<37&&(r===i?alert("Вы победили!"):e.renderScreenLose(),r=37,i=37)}))}))}},{key:"renderScreenLose",value:function(){alert("Вы проиграли!"),console.log(container)}}])&&t(i.prototype,c),Object.defineProperty(i,"prototype",{writable:!1}),e}())(document.querySelector(".app"))})();